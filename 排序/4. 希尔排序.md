## 希尔排序——递减增量

关键：如何理解将序列 `按照相距某个“增量”分割成为若干子序列`

为了准确理解这句话，其实是需要一个数学的推导：

**将长度为n的序列，以增量gap=n/2分割，则该序列会被分为gap组**

假设序列长度为10（序号0,1,2,3,4,5,6,7,8,9）

* 第一次按照 10/2=5 的增量来分割序列，0与5一组，1与6一组 ... 总共5各组
* 第二次按照 5/2=2 的增量来分割序列，0与2,4,6,8一组，1与，3,5,7,9一组，总共2个组
* 第三次按照 2/2=1 的增量来分割序列，0与1,2,3,4,5,6,7,8,9 一组，总共1个组



### 基本思想

希尔排序是把记录按下标的一定增量分组，对每组使用直接插入排序算法排序；随着增量逐渐减少，每组包含的关键词越来越多，当增量减至1时，整个文件恰被分成一组，算法便终止。



简单插入排序很循规蹈矩，不管数组分布是怎么样的，依然一步一步的对元素进行比较，移动，插入，比如[5,4,3,2,1,0]这种倒序序列，数组末端的0要回到首位置很是费劲，比较和移动元素均需n-1次。而希尔排序在数组中采用跳跃式分组的策略，通过某个增量将数组元素划分为若干组，然后分组进行插入排序，随后逐步缩小增量，继续按组进行插入排序操作，直至增量为1。希尔排序通过这种策略使得整个数组在初始阶段达到从宏观上看基本有序，小的基本在前，大的基本在后。然后缩小增量，到增量为1时，其实多数情况下只需微调即可，不会涉及过多的数据移动。



我们来看下希尔排序的基本步骤，在此我们选择增量 gap=length/2，缩小增量继续以 gap = gap/2的方式，这种增量选择我们可以用一个序列来表示，{n/2,(n/2)/2...1}，称为 **增量序列**。

 ![](..\image\希尔排序.png) 